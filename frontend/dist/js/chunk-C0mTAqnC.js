var e=Object.defineProperty,r=(r,s,o)=>((r,s,o)=>s in r?e(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o)(r,"symbol"!=typeof s?s+"":s,o);import{b as s,R as o,j as n,r as i,a,u as t,L as l,N as c}from"./chunk-61qy-ame.js";import{u as d,a as x,b as h}from"./index-DCV20a9Q.js";import{B as g,I as m,ae as p,a as u,af as b,M as j,d as f,e as y,ag as v,ah as C,ai as k,S as w,aj as I,ak as S,al as T,am as W,an as N,ao as A,a6 as z,A as R,T as M,ap as P,O,$ as E,K as B,aq as V,aa as D,ar as F,h as G,as as H,C as U,b as K,at as L,au as $,J as q,av as _,aw as Y,ax as Q,f as X,k as J,ay as Z,D as ee,Q as re,L as se,c as oe,az as ne,aA as ie,X as ae,aB as te,aC as le,a4 as ce,aD as de,G as xe,aE as he,aF as ge,aG as me,aH as pe,s as ue,aI as be,aJ as je,aK as fe,aL as ye,aM as ve,aN as Ce,aO as ke,aP as we,aQ as Ie,aR as Se,aS as Te,aT as We,aU as Ne,U as Ae,aV as ze,ab as Re,aW as Me,q as Pe,aX as Oe,aY as Ee,r as Be,aZ as Ve,a_ as De,V as Fe,a$ as Ge,Z as He,b0 as Ue,b1 as Ke,b2 as Le,a1 as $e,b3 as qe,b4 as _e,b5 as Ye,b6 as Qe,F as Xe,v as Je}from"./chunk-B-IQjRUg.js";import{a as Ze}from"./chunk-D0fInH4s.js";const er=[{code:"en",name:"English",flag:"üá∫üá∏"},{code:"vi",name:"Ti·∫øng Vi·ªát",flag:"üáªüá≥"},{code:"zh",name:"Chinese",flag:"üá®üá≥"},{code:"ja",name:"Japanese",flag:"üáØüáµ"},{code:"ko",name:"Korean",flag:"üá∞üá∑"}],rr=()=>{const{t:e,i18n:r}=s(),[i,a]=o.useState(null),t=()=>{a(null)},l=er.find(e=>e.code===r.language)||er[0];return n.jsxs(g,{children:[n.jsxs(m,{onClick:e=>{a(e.currentTarget)},sx:{color:"inherit","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},title:e("language.changeLanguage"),children:[n.jsx(p,{}),n.jsx(u,{variant:"caption",sx:{ml:.5,fontSize:"0.75rem"},children:l.flag})]}),n.jsx(b,{anchorEl:i,open:Boolean(i),onClose:t,PaperProps:{sx:{minWidth:200,mt:1}},children:er.map(e=>n.jsxs(j,{onClick:()=>{return s=e.code,r.changeLanguage(s),void t();var s},selected:r.language===e.code,sx:{"&.Mui-selected":{backgroundColor:"primary.main",color:"primary.contrastText","&:hover":{backgroundColor:"primary.dark"}}},children:[n.jsx(f,{sx:{minWidth:40},children:n.jsx(u,{variant:"h6",children:e.flag})}),n.jsx(y,{primary:e.name,primaryTypographyProps:{fontSize:"0.9rem",fontWeight:r.language===e.code?"bold":"normal"}})]},e.code))})]})},sr=i.memo(()=>{var e,r,o,c,p,ie;const{t:ae}=s(),te=a(),le=t(),ce=v(),de=C(ce.breakpoints.down("md")),{isAuthenticated:xe,isAdmin:he,user:ge,logout:me}=d(),{getCartCount:pe}=x(),{favorites:ue}=h(),[be,je]=i.useState(null),[fe,ye]=i.useState(!1),[ve,Ce]=i.useState(null),[ke,we]=i.useState(!1),[Ie,Se]=i.useState(""),Te=pe(),We=ue.length,[Ne]=i.useState(1),Ae=()=>{je(null)},ze=()=>{ye(!1)},Re=()=>{me(),Ae(),le("/")},Me=()=>{Ie.trim()&&le(`/products?search=${encodeURIComponent(Ie)}`)},Pe=e=>te.pathname===e,Oe=[{name:ae("categories.electronics"),icon:"üíª",path:"/products?category=electronics"},{name:ae("categories.gaming"),icon:"üéÆ",path:"/products?category=gaming"},{name:ae("categories.computers"),icon:"üñ•Ô∏è",path:"/products?category=computers"},{name:ae("categories.mobile"),icon:"üì±",path:"/products?category=mobile"},{name:ae("categories.audio"),icon:"üéß",path:"/products?category=audio"},{name:ae("categories.accessories"),icon:"üîå",path:"/products?category=accessories"}],Ee=[{label:ae("navigation.home"),path:"/",icon:n.jsx(k,{}),public:!0},{label:ae("navigation.products"),path:"/products",icon:n.jsx(w,{}),public:!0},{label:ae("navigation.support"),path:"/support",icon:n.jsx(I,{}),public:!0},{label:ae("navigation.favorites"),path:"/favorites",icon:n.jsx(S,{}),public:!1},{label:ae("navigation.wishlist"),path:"/wishlist",icon:n.jsx(S,{}),public:!1},{label:ae("navigation.compare"),path:"/compare",icon:n.jsx(T,{}),public:!1},{label:ae("navigation.reviews"),path:"/reviews",icon:n.jsx(W,{}),public:!1},{label:ae("navigation.profile"),path:"/profile",icon:n.jsx(N,{}),public:!1},{label:ae("navigation.orders"),path:"/orders",icon:n.jsx(A,{}),public:!1},{label:ae("navigation.admin"),path:"/admin",icon:n.jsx(z,{}),public:!1,adminOnly:!0}].filter(e=>e.public||xe&&!e.adminOnly||xe&&e.adminOnly&&he);return n.jsxs(R,{position:"fixed",sx:{zIndex:e=>e.zIndex.drawer+1,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},children:[n.jsxs(M,{sx:{py:1},children:[de&&n.jsx(m,{color:"inherit",onClick:()=>we(!0),sx:{mr:1},children:n.jsx(P,{})}),n.jsx(g,{component:l,to:"/",sx:{display:"flex",alignItems:"center",textDecoration:"none",color:"inherit",mr:{xs:1,md:4}},children:n.jsx(u,{variant:de?"h6":"h5",component:"div",sx:{fontWeight:"bold",background:"linear-gradient(45deg, #fff, #f0f0f0)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent"},children:ae("common.brandName")})}),!de&&n.jsxs(n.Fragment,{children:[n.jsx(O,{color:"inherit",startIcon:n.jsx(E,{}),onClick:e=>{Ce(e.currentTarget),ye(!fe)},sx:{textTransform:"none",mr:2,borderRadius:2,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:ae("navigation.categories")}),n.jsxs(g,{sx:{display:"flex",gap:1,mr:"auto"},children:[n.jsx(O,{component:l,to:"/",color:"inherit",sx:{textTransform:"none",borderRadius:2,backgroundColor:Pe("/")?"rgba(255, 255, 255, 0.15)":"transparent","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:ae("navigation.home")}),n.jsx(O,{component:l,to:"/products",color:"inherit",sx:{textTransform:"none",borderRadius:2,backgroundColor:Pe("/products")?"rgba(255, 255, 255, 0.15)":"transparent","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:ae("navigation.products")}),n.jsx(O,{component:l,to:"/support",color:"inherit",sx:{textTransform:"none",borderRadius:2,backgroundColor:Pe("/support")?"rgba(255, 255, 255, 0.15)":"transparent","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:ae("navigation.support")}),xe&&n.jsxs(n.Fragment,{children:[n.jsx(O,{component:l,to:"/wishlist",color:"inherit",sx:{textTransform:"none",borderRadius:2,backgroundColor:Pe("/wishlist")?"rgba(255, 255, 255, 0.15)":"transparent","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:ae("navigation.wishlist")}),n.jsx(O,{component:l,to:"/reviews",color:"inherit",sx:{textTransform:"none",borderRadius:2,backgroundColor:Pe("/reviews")?"rgba(255, 255, 255, 0.15)":"transparent","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:ae("navigation.reviews")})]})]})]}),!de&&n.jsx(g,{sx:{flexGrow:1,maxWidth:500,mx:2},children:n.jsx(B,{fullWidth:!0,size:"small",placeholder:ae("common.search"),value:Ie,onChange:e=>Se(e.target.value),onKeyPress:e=>{"Enter"===e.key&&Me()},InputProps:{startAdornment:n.jsx(V,{position:"start",children:n.jsx(D,{sx:{color:"action.active"}})}),endAdornment:n.jsx(V,{position:"end",children:n.jsx(O,{size:"small",onClick:Me,sx:{minWidth:"auto",borderRadius:1,bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"}},children:ae("common.search")})})},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:3,"& fieldset":{border:"none"},"&:hover":{backgroundColor:"white"},"&.Mui-focused":{backgroundColor:"white"}}}})}),n.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1},children:[xe&&n.jsx(m,{color:"inherit",component:l,to:"/favorites",sx:{"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:n.jsx(F,{badgeContent:We,color:"error",children:n.jsx(S,{})})}),n.jsx(m,{color:"inherit",component:l,to:"/cart",sx:{"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:n.jsx(F,{badgeContent:Te,color:"error",children:n.jsx(G,{})})}),n.jsx(rr,{}),xe&&n.jsx(m,{color:"inherit",sx:{"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:n.jsx(F,{badgeContent:Ne,color:"error",children:n.jsx(H,{})})}),xe?n.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1,ml:1},children:[!de&&(he||"PRODUCT_MANAGER"===(null==ge?void 0:ge.role)||"USER_MANAGER"===(null==ge?void 0:ge.role)||"MODERATOR"===(null==ge?void 0:ge.role))&&n.jsx(O,{component:l,to:"/admin",color:"inherit",startIcon:n.jsx(z,{}),sx:{textTransform:"none",borderRadius:2,backgroundColor:Pe("/admin")?"rgba(255, 255, 255, 0.15)":"transparent","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:ae("navigation.admin")}),!de&&n.jsx(U,{label:(null==ge?void 0:ge.role)||"USER",size:"small",color:he?"warning":"secondary",sx:{color:"white",bgcolor:he?"orange":"rgba(255, 255, 255, 0.2)",fontWeight:"bold"}}),n.jsx(m,{onClick:e=>{je(e.currentTarget)},sx:{color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:n.jsx(K,{sx:{width:32,height:32,bgcolor:"secondary.main",border:"2px solid rgba(255,255,255,0.3)"},children:(null==(e=null==ge?void 0:ge.firstName)?void 0:e[0])||(null==(r=null==ge?void 0:ge.username)?void 0:r[0])||"U"})})]}):n.jsx(O,{component:l,to:"/login",color:"inherit",variant:"outlined",sx:{textTransform:"none",borderRadius:3,borderColor:"rgba(255, 255, 255, 0.5)",fontWeight:"bold","&:hover":{borderColor:"white",backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:ae("common.login")})]})]}),n.jsx(L,{open:fe,anchorEl:ve,role:void 0,placement:"bottom-start",transition:!0,disablePortal:!0,sx:{zIndex:1300},children:({TransitionProps:e,placement:r})=>n.jsx($,{...e,style:{transformOrigin:"bottom-start"===r?"left top":"left bottom"},children:n.jsx(q,{elevation:8,sx:{mt:1,minWidth:250,borderRadius:2,overflow:"hidden"},children:n.jsx(_,{onClickAway:ze,children:n.jsxs(Y,{autoFocusItem:fe,dense:!0,children:[n.jsxs(j,{sx:{py:1.5,borderBottom:"1px solid #eee"},children:[n.jsx(f,{children:n.jsx(Q,{})}),n.jsx(y,{primary:ae("categories.allCategories")})]}),Oe.map(e=>n.jsx(j,{component:l,to:e.path,onClick:ze,sx:{py:1},children:n.jsx(y,{primary:n.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsx("span",{children:e.icon}),n.jsx("span",{children:e.name})]})})},e.name)),n.jsx(X,{}),n.jsxs(j,{component:l,to:"/products",onClick:ze,sx:{py:1.5,color:"primary.main",fontWeight:"bold"},children:[n.jsx(f,{children:n.jsx(J,{sx:{color:"primary.main"}})}),n.jsx(y,{primary:ae("categories.viewAllProducts")})]})]})})})})}),n.jsxs(b,{anchorEl:be,open:Boolean(be),onClose:Ae,onClick:Ae,PaperProps:{elevation:8,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,minWidth:220,borderRadius:2,"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[n.jsx(j,{disabled:!0,sx:{py:2},children:n.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:2},children:[n.jsx(K,{sx:{bgcolor:"primary.main"},children:(null==(o=null==ge?void 0:ge.firstName)?void 0:o[0])||(null==(c=null==ge?void 0:ge.username)?void 0:c[0])||"U"}),n.jsxs(g,{children:[n.jsxs(u,{variant:"subtitle1",fontWeight:"bold",children:[null==ge?void 0:ge.firstName," ",null==ge?void 0:ge.lastName]}),n.jsxs(u,{variant:"caption",color:"text.secondary",children:["@",null==ge?void 0:ge.username]})]})]})}),n.jsx(X,{}),n.jsxs(j,{component:l,to:"/profile",children:[n.jsx(N,{sx:{mr:2}}),ae("navigation.profile")]}),n.jsxs(j,{component:l,to:"/orders",children:[n.jsx(A,{sx:{mr:2}}),ae("navigation.orders")]}),n.jsxs(j,{component:l,to:"/favorites",children:[n.jsx(S,{sx:{mr:2}}),ae("navigation.favorites")]}),n.jsx(X,{}),n.jsxs(j,{component:l,to:"/support",children:[n.jsx(I,{sx:{mr:2}}),ae("navigation.support")]}),n.jsx(X,{}),n.jsxs(j,{onClick:Re,sx:{color:"error.main"},children:[n.jsx(Z,{sx:{mr:2}}),ae("navigation.logout")]})]}),n.jsxs(ee,{anchor:"left",open:ke,onClose:()=>we(!1),sx:{"& .MuiDrawer-paper":{width:280,bgcolor:"background.paper"}},children:[n.jsxs(g,{sx:{p:2,bgcolor:"primary.main",color:"white"},children:[n.jsxs(g,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx(u,{variant:"h6",fontWeight:"bold",children:ae("common.brandName")}),n.jsx(m,{onClick:()=>we(!1),sx:{color:"white"},children:n.jsx(re,{})})]}),xe&&ge&&n.jsxs(g,{sx:{mt:2,display:"flex",alignItems:"center",gap:2},children:[n.jsx(K,{sx:{bgcolor:"secondary.main"},children:(null==(p=ge.firstName)?void 0:p[0])||(null==(ie=ge.username)?void 0:ie[0])||"U"}),n.jsxs(g,{children:[n.jsxs(u,{variant:"body2",fontWeight:"bold",children:[ge.firstName," ",ge.lastName]}),n.jsx(U,{label:ge.role,size:"small",sx:{bgcolor:"rgba(255,255,255,0.2)",color:"white"}})]})]})]}),n.jsx(X,{}),n.jsx(se,{children:Ee.map(e=>n.jsxs(oe,{component:l,to:e.path,onClick:()=>we(!1),selected:Pe(e.path),children:[n.jsx(f,{children:e.icon}),n.jsx(y,{primary:e.label})]},e.path))}),n.jsx(X,{}),n.jsxs(se,{children:[n.jsx(ne,{children:n.jsx(y,{primary:ae("categories.categories"),secondary:ae("categories.browseByCategory")})}),Oe.map(e=>n.jsx(oe,{component:l,to:e.path,onClick:()=>we(!1),sx:{pl:4},children:n.jsx(y,{primary:`${e.icon} ${e.name}`})},e.name))]}),xe&&n.jsxs(n.Fragment,{children:[n.jsx(X,{}),n.jsx(se,{children:n.jsxs(oe,{onClick:Re,children:[n.jsx(f,{children:n.jsx(Z,{})}),n.jsx(y,{primary:ae("navigation.logout")})]})})]})]})]})}),or=({children:e,requireAuth:r=!0,requireAdmin:s=!1,requireRole:o,redirectTo:i="/login"})=>{const{isAuthenticated:t,isAdmin:l,isLoading:x,user:h}=d(),m=a();if(x)return n.jsxs(g,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"60vh",gap:2,children:[n.jsx(ie,{size:48}),n.jsx(u,{variant:"body1",color:"text.secondary",children:"Verifying access permissions..."})]});if(r&&!t)return n.jsx(c,{to:i,state:{from:m},replace:!0});if(s&&!l)return n.jsx(g,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",sx:{p:3},children:n.jsxs(ae,{severity:"error",sx:{maxWidth:500,"& .MuiAlert-icon":{fontSize:"2rem"}},children:[n.jsxs(te,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsx(le,{}),"Administrator Access Required"]}),n.jsx(u,{variant:"body2",sx:{mb:1},children:"This page requires administrator privileges. Please contact your system administrator if you believe you should have access."}),n.jsxs(u,{variant:"caption",color:"text.secondary",children:["Current role: ",(null==h?void 0:h.role)||"No role assigned"]})]})});if(o){if(!(Array.isArray(o)?o.includes((null==h?void 0:h.role)||""):(null==h?void 0:h.role)===o))return n.jsx(g,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",sx:{p:3},children:n.jsxs(ae,{severity:"warning",sx:{maxWidth:500,"& .MuiAlert-icon":{fontSize:"2rem"}},children:[n.jsxs(te,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsx(ce,{}),"Insufficient Privileges"]}),n.jsx(u,{variant:"body2",sx:{mb:1},children:"This page requires specific role permissions that you don't currently have."}),n.jsxs(u,{variant:"body2",sx:{mb:1},children:[n.jsx("strong",{children:"Required:"})," ",Array.isArray(o)?o.join(" or "):o]}),n.jsxs(u,{variant:"caption",color:"text.secondary",children:["Your role: ",(null==h?void 0:h.role)||"No role assigned"]})]})})}return n.jsx(n.Fragment,{children:e})},nr=()=>{const[e,r]=i.useState(""),s=[{icon:n.jsx(je,{}),href:"#",label:"Facebook",color:"#1877f2"},{icon:n.jsx(fe,{}),href:"#",label:"Twitter",color:"#1da1f2"},{icon:n.jsx(ye,{}),href:"#",label:"Instagram",color:"#e4405f"},{icon:n.jsx(ve,{}),href:"#",label:"LinkedIn",color:"#0077b5"},{icon:n.jsx(Ce,{}),href:"#",label:"YouTube",color:"#ff0000"}],o=[{icon:n.jsx(ue,{}),text:"Free Shipping",subtext:"On orders over $50"},{icon:n.jsx(le,{}),text:"Secure Payments",subtext:"100% secure checkout"},{icon:n.jsx(be,{}),text:"24/7 Support",subtext:"Dedicated support team"},{icon:n.jsx(ce,{}),text:"Money Back",subtext:"30-day guarantee"}];return n.jsxs(g,{component:"footer",sx:{bgcolor:"#181818",color:"white",mt:"auto"},children:[n.jsx(g,{sx:{bgcolor:"#232323",py:2},children:n.jsx(de,{maxWidth:"lg",children:n.jsx(xe,{container:!0,spacing:2,justifyContent:"center",children:o.map((e,r)=>n.jsxs(xe,{item:!0,xs:6,md:3,sx:{textAlign:"center"},children:[n.jsx(g,{sx:{color:"primary.main",mb:1},children:e.icon}),n.jsx(u,{variant:"body2",fontWeight:"bold",children:e.text})]},r))})})}),n.jsx(de,{maxWidth:"lg",sx:{py:4},children:n.jsxs(xe,{container:!0,spacing:4,alignItems:"flex-start",justifyContent:"center",children:[n.jsxs(xe,{item:!0,xs:12,md:4,children:[n.jsx(u,{variant:"h6",fontWeight:"bold",sx:{color:"primary.main",mb:1},children:"ShopPro"}),n.jsx(u,{variant:"body2",sx:{mb:2,opacity:.8},children:"Your trusted e-commerce destination for the latest tech products."}),n.jsx(g,{sx:{display:"flex",gap:1,mt:1},children:s.map((e,r)=>n.jsx(m,{href:e.href,sx:{color:"white","&:hover":{color:e.color}},children:e.icon},r))})]}),n.jsxs(xe,{item:!0,xs:6,sm:4,md:2,children:[n.jsx(u,{variant:"subtitle1",fontWeight:"bold",sx:{mb:1},children:"Quick Links"}),[{label:"Home",href:"/"},{label:"Products",href:"/products"},{label:"About Us",href:"/about"},{label:"Contact",href:"/contact"},{label:"Blog",href:"/blog"},{label:"Careers",href:"/careers"}].map((e,r)=>n.jsx(he,{href:e.href,color:"inherit",underline:"hover",sx:{display:"block",mb:.5,opacity:.8,"&:hover":{color:"primary.main",opacity:1}},children:e.label},r))]}),n.jsxs(xe,{item:!0,xs:6,sm:4,md:2,children:[n.jsx(u,{variant:"subtitle1",fontWeight:"bold",sx:{mb:1},children:"Categories"}),[{label:"Electronics",href:"/products?category=electronics"},{label:"Gaming",href:"/products?category=gaming"},{label:"Computers",href:"/products?category=computers"},{label:"Mobile Devices",href:"/products?category=mobile"},{label:"Audio & Headphones",href:"/products?category=audio"},{label:"Accessories",href:"/products?category=accessories"}].map((e,r)=>n.jsx(he,{href:e.href,color:"inherit",underline:"hover",sx:{display:"block",mb:.5,opacity:.8,"&:hover":{color:"primary.main",opacity:1}},children:e.label},r))]}),n.jsxs(xe,{item:!0,xs:12,md:4,children:[n.jsx(u,{variant:"subtitle1",fontWeight:"bold",sx:{mb:1},children:"Stay Updated"}),n.jsxs(g,{component:"form",onSubmit:s=>{s.preventDefault(),e&&r("")},sx:{display:"flex",gap:1,mb:1},children:[n.jsx(B,{size:"small",placeholder:"Your email address",value:e,onChange:e=>r(e.target.value),sx:{bgcolor:"white",borderRadius:1,flex:1},InputProps:{sx:{fontSize:14}}}),n.jsx(O,{type:"submit",variant:"contained",sx:{borderRadius:1,px:2,minWidth:0},children:n.jsx(ge,{fontSize:"small"})})]}),n.jsx(u,{variant:"caption",sx:{opacity:.6},children:"Get special offers, free giveaways, and exclusive deals."})]})]})}),n.jsx(g,{sx:{bgcolor:"#111",py:2,mt:2},children:n.jsxs(de,{maxWidth:"lg",sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:"center",gap:2},children:[n.jsxs(u,{variant:"caption",sx:{opacity:.7},children:["¬© 2025 ShopPro. All rights reserved. | Made with ",n.jsx("span",{style:{color:"#e25555"},children:"‚ô•"})," for shopping experiences"]}),n.jsxs(g,{sx:{display:"flex",gap:2,alignItems:"center"},children:[n.jsx(me,{fontSize:"small",sx:{opacity:.7}}),n.jsx(pe,{fontSize:"small",sx:{opacity:.7}})]})]})})]})},ir="linear-gradient(135deg, #ff7a18 0%, #ff4f58 100%)",ar=({embedded:e=!1,defaultOpen:r,title:s,welcomeMessage:o,headerGradient:a})=>{const{user:t,isAuthenticated:l}=d(),[c,x]=i.useState(void 0!==r?r:e),[h,p]=i.useState([]),[b,j]=i.useState(""),[f,y]=i.useState(!1),[v,C]=i.useState(null),k=i.useRef(null),[w,I]=i.useState(!1),[S,T]=i.useState(!1),[W,N]=i.useState(!1),[A,z]=i.useState(""),[R,M]=i.useState(""),P=i.useMemo(()=>"ai_widget_session_id",[]),E=async(e="")=>{if(!t)return null;try{const r=await Ze.createChatSession(t.id,e);if(r.success&&r.data){const e=r.data;if(e.id)return C(e.id),localStorage.setItem(P,String(e.id)),e.id}}catch(r){}return null};i.useEffect(()=>{const e=localStorage.getItem(P);if(e){const r=parseInt(e,10);Number.isNaN(r)||C(r)}},[P]),i.useEffect(()=>{if(c&&0===h.length){const e={sessionId:"",message:"",response:o||"Xin ch√†o, t√¥i l√† Stylist AI t∆∞ v·∫•n th·ªùi trang. B·∫°n ƒëang t√¨m ƒë·ªì g√¨?",messageType:"BOT",timestamp:(new Date).toISOString()};p([e]),l&&t&&!v&&E()}},[c]),i.useEffect(()=>{var e;null==(e=k.current)||e.scrollIntoView({behavior:"smooth"})},[h,c]);const V=async()=>{const e=b.trim();if(!e)return;const r={sessionId:v?String(v):"",message:e,response:void 0,messageType:"USER",timestamp:(new Date).toISOString()};p(e=>[...e,r]),j(""),y(!0);let s=v;l&&t&&!s&&(s=await E(e));try{if(s){const r=await Ze.sendChatMessage(e,s);if(!r.success)throw new Error("API returned unsuccessful status");{const e={sessionId:r.data.sessionId?String(r.data.sessionId):"",message:r.data.message,response:r.data.response,messageType:"BOT",timestamp:r.data.timestamp};p(r=>[...r,e])}}else{const e={sessionId:"",message:"",response:"M√¨nh ƒëang ·ªü ch·∫ø ƒë·ªô ngo·∫°i tuy·∫øn. Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ ƒë∆∞·ª£c h·ªó tr·ª£ ƒë·∫ßy ƒë·ªß ho·∫∑c th·ª≠ l·∫°i sau.",messageType:"BOT",timestamp:(new Date).toISOString()};p(r=>[...r,e])}}catch(o){const e={sessionId:"",message:"",response:"Xin l·ªói, hi·ªán ch∆∞a k·∫øt n·ªëi ƒë∆∞·ª£c t·ªõi AI. B·∫°n th·ª≠ l·∫°i sau nh√©.",messageType:"BOT",timestamp:(new Date).toISOString()};p(r=>[...r,e])}finally{y(!1)}},D=e=>{j(r=>r+e),T(!1)},F=()=>N(!0);return n.jsxs(n.Fragment,{children:[!e&&n.jsx(ke,{title:"Chat v·ªõi AI",children:n.jsx(m,{onClick:()=>x(e=>!e),sx:{position:"fixed",right:20,bottom:20,width:64,height:64,borderRadius:"50%",background:a||ir,color:"white",boxShadow:"0 10px 24px rgba(255, 111, 60, 0.45)",border:"2px solid rgba(255,255,255,0.65)",zIndex:e=>e.zIndex.modal,"&:hover":{transform:"translateY(-1px) scale(1.03)",filter:"brightness(1.05)"}},children:n.jsx(we,{})})}),c&&n.jsxs(q,{elevation:10,sx:{position:e?"relative":"fixed",right:e?"auto":20,bottom:e?"auto":20,width:e?400:380,maxWidth:e?"100%":400,height:w?64:560,display:"flex",flexDirection:"column",borderRadius:4,overflow:"hidden",zIndex:e=>e.zIndex.modal+1,border:"1px solid rgba(0,0,0,0.06)"},children:[n.jsxs(g,{sx:{p:2,background:a||ir,color:"white",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"inset 0 -1px 0 rgba(255,255,255,0.2)"},children:[n.jsxs(g,{display:"flex",alignItems:"center",gap:1.5,children:[n.jsx(K,{sx:{bgcolor:"rgba(255,255,255,0.2)"},children:n.jsx(Ie,{sx:{color:"white"}})}),n.jsx(u,{variant:"subtitle1",fontWeight:700,children:s||"Stylist AI T∆∞ V·∫•n"})]}),n.jsxs(g,{children:[n.jsx(ke,{title:"Theo d√µi ƒë∆°n h√†ng",children:n.jsx(m,{size:"small",onClick:F,sx:{color:"white",mr:.5},children:n.jsx(Se,{})})}),n.jsx(ke,{title:e&&w?"M·ªü r·ªông":"Thu g·ªçn",children:n.jsx(m,{size:"small",onClick:()=>{e?I(e=>!e):x(!1)},sx:{color:"white"},children:n.jsx(Te,{sx:{transform:e&&w?"rotate(180deg)":"none",transition:"transform 0.2s"}})})}),!e&&n.jsx(m,{size:"small",onClick:()=>x(!1),sx:{color:"white"},children:n.jsx(re,{})})]})]}),!w&&n.jsxs(g,{sx:{flex:1,p:2,backgroundColor:"#fbfbfb",overflowY:"auto"},children:[n.jsxs(se,{sx:{display:"flex",flexDirection:"column",gap:1},children:[h.map((e,r)=>n.jsx(ne,{sx:{p:0,display:"block"},children:"USER"===e.messageType?n.jsx(g,{display:"flex",justifyContent:"flex-end",mb:1,children:n.jsx(g,{sx:{bgcolor:"primary.main",color:"white",px:1.5,py:1,borderRadius:3,borderTopRightRadius:0,maxWidth:"75%",boxShadow:"0 2px 10px rgba(0,0,0,0.06)"},children:n.jsx(u,{variant:"body2",children:e.message})})}):n.jsxs(g,{display:"flex",alignItems:"flex-start",gap:1.25,mb:1,children:[n.jsx(K,{sx:{bgcolor:"primary.main"},children:n.jsx(Ie,{})}),n.jsx(g,{sx:{bgcolor:"grey.100",px:1.5,py:1,borderRadius:3,borderTopLeftRadius:0,maxWidth:"75%",boxShadow:"0 2px 10px rgba(0,0,0,0.04)"},children:n.jsx(u,{variant:"body2",children:e.response})})]})},r)),f&&n.jsx(ne,{sx:{p:0},children:n.jsxs(g,{display:"flex",alignItems:"center",gap:1.25,children:[n.jsx(K,{sx:{bgcolor:"primary.main"},children:n.jsx(Ie,{})}),n.jsxs(g,{sx:{bgcolor:"grey.100",px:1.5,py:1,borderRadius:3,borderTopLeftRadius:0,display:"flex",alignItems:"center",gap:1},children:[n.jsx(ie,{size:18}),n.jsx(u,{variant:"body2",children:"AI ƒëang tr·∫£ l·ªùi..."})]})]})})]}),n.jsx("div",{ref:k})]}),!w&&n.jsxs(g,{sx:{p:1.25,borderTop:1,borderColor:"divider",display:"flex",gap:1,alignItems:"center",backgroundColor:"#fff",position:"relative"},children:[n.jsx(m,{onClick:()=>{T(e=>!e)},sx:{color:"text.secondary"},"aria-label":"emoji-picker",children:n.jsx(We,{})}),n.jsx(m,{sx:{color:"text.secondary"},onClick:F,children:n.jsx(Ne,{})}),n.jsx(B,{size:"small",fullWidth:!0,placeholder:"Nh·∫≠p tin nh·∫Øn...",value:b,onChange:e=>j(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),V())},sx:{"& .MuiInputBase-root":{borderRadius:3,backgroundColor:"grey.50"}}}),n.jsx(m,{onClick:V,disabled:!b.trim()||f,sx:{background:ir,color:"white",borderRadius:3,px:1.25,"&:hover":{filter:"brightness(1.05)"}},children:n.jsx(ge,{})}),S&&n.jsx(q,{elevation:8,sx:{position:"absolute",bottom:"52px",left:8,p:1,borderRadius:2,zIndex:e=>e.zIndex.modal+2},children:n.jsx(g,{sx:{display:"grid",gridTemplateColumns:"repeat(8, 1fr)",gap:.5},children:["üòÄ","üòÅ","üòÇ","üòä","üòé","üòç","üòò","ü§ó","ü§î","ü§©","üòÖ","ü•≥","üò¥","üò¢","üò°","ü§ñ","üí°","‚ù§Ô∏è","üöÄ","üéâ","ü§ù","üëå","üëç","üôè"].map(e=>n.jsx(m,{onClick:()=>D(e),size:"small",children:n.jsx("span",{style:{fontSize:20},children:e})},e))})})]})]}),W&&!e&&n.jsxs(q,{elevation:16,sx:{position:"fixed",right:20,bottom:96,width:360,borderRadius:4,overflow:"hidden",zIndex:e=>e.zIndex.modal+2,boxShadow:"0 16px 32px rgba(0,0,0,0.18)",border:"1px solid rgba(0,0,0,0.06)"},children:[n.jsxs(g,{sx:{p:1.5,background:ir,color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsx(Se,{sx:{color:"white"}}),n.jsx(u,{fontWeight:800,children:"Track order"})]}),n.jsx(m,{size:"small",onClick:()=>N(!1),sx:{color:"white"},children:n.jsx(re,{})})]}),n.jsxs(g,{sx:{p:2,bgcolor:"#fff"},children:[n.jsx(u,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Nh·∫≠p email v√† m√£ ƒë∆°n h√†ng ƒë·ªÉ ki·ªÉm tra tr·∫°ng th√°i."}),n.jsx(B,{fullWidth:!0,size:"small",label:"Email",margin:"dense",value:A,onChange:e=>z(e.target.value),sx:{"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:"grey.50","& fieldset":{borderColor:"rgba(0,0,0,0.12)"},"&:hover fieldset":{borderColor:"primary.light"},"&.Mui-focused fieldset":{borderColor:"primary.main",boxShadow:"0 0 0 2px rgba(99,102,241,0.15)"}}}}),n.jsx(B,{fullWidth:!0,size:"small",label:"Order number",margin:"dense",value:R,onChange:e=>M(e.target.value),sx:{"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:"grey.50","& fieldset":{borderColor:"rgba(0,0,0,0.12)"},"&:hover fieldset":{borderColor:"primary.light"},"&.Mui-focused fieldset":{borderColor:"primary.main",boxShadow:"0 0 0 2px rgba(99,102,241,0.15)"}}}}),n.jsx(O,{fullWidth:!0,variant:"contained",onClick:()=>{const e=`Theo d√µi ƒë∆°n h√†ng\nEmail: ${A}\nM√£ ƒë∆°n: ${R}`;z(""),M(""),N(!1),j(e)},sx:{mt:1.75,background:ir,borderRadius:2,boxShadow:"0 8px 16px rgba(255, 111, 60, 0.35)",fontWeight:700},children:"Send"})]})]})]})},tr=({type:e,message:r,open:s,onClose:o})=>n.jsx(Ae,{open:s,autoHideDuration:4e3,onClose:o,anchorOrigin:{vertical:"top",horizontal:"center"},children:n.jsx(ae,{onClose:o,severity:e,sx:{width:"100%"},children:r})});class lr extends i.Component{constructor(e){super(e),r(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,r){this.setState({error:e,errorInfo:r}),this.props.onError&&this.props.onError(e,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:n.jsx(g,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",p:3},children:n.jsxs(q,{elevation:3,sx:{p:4,maxWidth:600,textAlign:"center"},children:[n.jsx(ze,{sx:{fontSize:64,color:"error.main",mb:2}}),n.jsx(u,{variant:"h5",gutterBottom:!0,children:"Something went wrong"}),n.jsx(u,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1,n.jsx(O,{variant:"contained",startIcon:n.jsx(Re,{}),onClick:this.handleRetry,sx:{mr:2},children:"Try Again"}),n.jsx(O,{variant:"outlined",onClick:()=>window.location.reload(),children:"Refresh Page"})]})}):this.props.children}}const cr=o.memo(({product:e,onAddToCart:r,onToggleFavorite:s,onViewDetails:o,onAddToCompare:a,isFavorite:t})=>{var l;const{id:c,name:d,price:x,salePrice:h,imageUrl:p,category:b,brand:j,stockQuantity:f,rating:y,reviewCount:v,images:C,isOnSale:k,isFeatured:w,isNew:I}=e,W=h||x,N=h&&x>h?Math.round((x-h)/x*100):0,A=f<=0,z=t(c),R=i.useCallback(()=>{r(c)},[c,r]),M=i.useCallback(()=>{s(c)},[c,s]),P=i.useCallback(()=>{o(c)},[c,o]),E=i.useCallback(()=>{a(c)},[c,a]);return n.jsx(Me,{in:!0,timeout:300,children:n.jsxs(Pe,{sx:{height:"100%",minHeight:400,display:"flex",flexDirection:"column",position:"relative",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 40px rgba(0,0,0,0.15)"},borderRadius:3,border:"none",backgroundColor:"background.paper",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",overflow:"hidden"},children:[n.jsxs(g,{sx:{position:"relative",height:160},children:[n.jsx(Oe,{component:"img",height:"160",image:(null==(l=null==C?void 0:C[0])?void 0:l.imageUrl)||p||"https://via.placeholder.com/250x160/4f46e5/ffffff?text=No+Image",alt:d,sx:{objectFit:"cover",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.05)"}}}),n.jsxs(g,{sx:{position:"absolute",top:12,left:12,display:"flex",flexDirection:"column",gap:1},children:[I&&n.jsx(U,{label:"NEW",size:"small",sx:{fontWeight:"bold",background:"linear-gradient(45deg, #4caf50, #8bc34a)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"}}),k&&n.jsx(U,{label:`-${N}%`,size:"small",sx:{fontWeight:"bold",background:"linear-gradient(45deg, #f44336, #ff5722)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"}}),w&&n.jsx(U,{label:"FEATURED",size:"small",sx:{fontWeight:"bold",background:"linear-gradient(45deg, #2196f3, #21cbf3)",color:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"}})]}),n.jsxs(g,{sx:{position:"absolute",top:12,right:12,display:"flex",flexDirection:"column",gap:1},children:[n.jsx(ke,{title:z?"Remove from favorites":"Add to favorites",children:n.jsx(m,{size:"small",onClick:M,sx:{backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.15)","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)",transform:"scale(1.1)"},transition:"all 0.2s ease-in-out"},children:z?n.jsx(S,{color:"error"}):n.jsx(Ee,{})})}),n.jsx(ke,{title:"Add to compare",children:n.jsx(m,{size:"small",onClick:E,sx:{backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",boxShadow:"0 2px 8px rgba(0,0,0,0.15)","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)",transform:"scale(1.1)"},transition:"all 0.2s ease-in-out"},children:n.jsx(T,{color:"primary"})})})]}),A&&n.jsx(g,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:"OUT OF STOCK"})]}),n.jsxs(Be,{sx:{flexGrow:1,p:2,display:"flex",flexDirection:"column"},children:[n.jsxs(g,{sx:{mb:1,display:"flex",gap:1,flexWrap:"wrap"},children:[b&&n.jsx(U,{label:b,size:"small",variant:"outlined",sx:{fontSize:"0.75rem"}}),j&&n.jsx(U,{label:j,size:"small",variant:"outlined",sx:{fontSize:"0.75rem"}})]}),n.jsx(u,{variant:"h6",component:"h3",sx:{fontSize:"0.85rem",fontWeight:600,mb:.5,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",lineHeight:1.2,color:"text.primary"},children:d}),(y||0)>0&&n.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[n.jsx(Ve,{value:y||0,precision:.1,size:"small",readOnly:!0,sx:{color:"#ffc107"}}),n.jsxs(u,{variant:"body2",color:"text.secondary",children:["(",v||0,")"]})]}),n.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[n.jsxs(u,{variant:"h5",sx:{fontWeight:"bold",fontSize:"0.95rem",background:"linear-gradient(45deg, #1976d2, #42a5f5)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:["$",W]}),h&&x>h&&n.jsxs(u,{variant:"body2",color:"text.secondary",sx:{textDecoration:"line-through",fontSize:"0.75rem"},children:["$",x]})]}),!A&&f<10&&n.jsxs(u,{variant:"caption",color:"warning.main",sx:{fontWeight:"bold"},children:["Only ",f," left in stock"]})]}),n.jsxs(De,{sx:{p:2,pt:0,gap:.5},children:[n.jsx(O,{variant:"contained",fullWidth:!0,onClick:R,disabled:A,startIcon:n.jsx(G,{}),sx:{background:"linear-gradient(45deg, #1976d2, #42a5f5)",mt:"auto","&:hover":{background:"linear-gradient(45deg, #1565c0, #1976d2)"},"&:disabled":{background:"#e0e0e0",color:"#9e9e9e"},fontWeight:"bold",py:1,fontSize:{xs:"0.75rem",md:"0.8rem"}},children:A?"H·∫øt h√†ng":"Th√™m v√†o gi·ªè"}),n.jsx(O,{variant:"outlined",fullWidth:!0,onClick:P,startIcon:n.jsx(Fe,{}),sx:{borderColor:"#1976d2",color:"#1976d2","&:hover":{borderColor:"#1565c0",backgroundColor:"rgba(25, 118, 210, 0.04)"},fontWeight:"bold",py:1,fontSize:{xs:"0.75rem",md:"0.8rem"}},children:"Xem chi ti·∫øt"})]})]})})});cr.displayName="OptimizedProductCard";const dr=({userId:e,cartItems:r,cartTotal:s,onVoucherApplied:o,onVoucherRemoved:a,appliedVoucher:t})=>{var l;const[c,d]=i.useState(""),[x,h]=i.useState(!1),[p,b]=i.useState(""),[j,f]=i.useState(""),[y,v]=i.useState(!1),[C,k]=i.useState([]),w=async()=>{var n,i,a,t;if(c.trim()){h(!0),b(""),f("");try{const a={voucherCode:c.trim(),userId:e,orderAmount:s,items:r.map(e=>({productId:e.productId,productName:e.productName,categoryId:1,brandId:1,price:e.productPrice,quantity:e.quantity}))},t=await Ze.validateVoucher(a);if(t.success&&(null==(n=t.data)?void 0:n.valid)){const e=t.data,r=e.discountAmount;f(`√Åp d·ª•ng th√†nh c√¥ng! Gi·∫£m ${null==r?void 0:r.toLocaleString("vi-VN")}‚Ç´`),o({code:e.voucherCode,id:e.voucherId,discountAmount:r,message:e.message}),d("")}else{const e=(null==(i=t.data)?void 0:i.message)||t.message||"M√£ voucher kh√¥ng h·ª£p l·ªá";b(e)}}catch(l){const e=l.message||(null==(t=null==(a=l.response)?void 0:a.data)?void 0:t.message)||"Kh√¥ng th·ªÉ √°p d·ª•ng m√£ voucher";b(e)}finally{h(!1)}}else b("Vui l√≤ng nh·∫≠p m√£ voucher")};return n.jsx(Pe,{sx:{borderRadius:3,mb:2},children:n.jsxs(Be,{sx:{p:3},children:[n.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[n.jsx(J,{color:"primary"}),n.jsx(u,{variant:"h6",sx:{fontWeight:"bold"},children:"M√£ gi·∫£m gi√°"}),n.jsx(m,{onClick:()=>{v(!y),y||0!==C.length||(async()=>{try{const e=await Ze.getPublicVouchers();e.success&&e.data&&k(e.data)}catch(e){}})()},size:"small",children:y?n.jsx(Ge,{}):n.jsx(Te,{})})]}),t&&n.jsxs(g,{sx:{mb:2,p:2,bgcolor:"success.light",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsx(He,{color:"success"}),n.jsxs(u,{variant:"body2",sx:{fontWeight:"bold"},children:[t.code," - Gi·∫£m ",null==(l=t.discountAmount)?void 0:l.toLocaleString("vi-VN"),"‚Ç´"]})]}),n.jsx(m,{onClick:()=>{b(""),f(""),a()},size:"small",children:n.jsx(re,{})})]}),n.jsxs(g,{sx:{display:"flex",gap:1,mb:1},children:[n.jsx(B,{fullWidth:!0,size:"small",placeholder:"Nh·∫≠p m√£ gi·∫£m gi√°",value:c,onChange:e=>d(e.target.value.toUpperCase()),onKeyPress:e=>{"Enter"!==e.key||x||w()},disabled:x||!!t,error:!!p,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}),n.jsx(O,{variant:"contained",onClick:w,disabled:x||!c.trim()||!!t,sx:{borderRadius:2,minWidth:100},children:x?"...":"√Åp d·ª•ng"})]}),p&&n.jsx(ae,{severity:"error",sx:{mb:1,borderRadius:2},children:n.jsx(u,{variant:"body2",children:p})}),j&&n.jsx(ae,{severity:"success",sx:{mb:1,borderRadius:2},children:n.jsx(u,{variant:"body2",children:j})}),n.jsx(Ue,{in:y,timeout:"auto",unmountOnExit:!0,children:n.jsxs(g,{sx:{mt:2,pt:2,borderTop:"1px solid",borderColor:"divider"},children:[n.jsx(u,{variant:"subtitle2",sx:{fontWeight:"bold",mb:2},children:"M√£ gi·∫£m gi√° c√≥ s·∫µn:"}),0===C.length?n.jsx(u,{variant:"body2",color:"text.secondary",children:"Kh√¥ng c√≥ m√£ gi·∫£m gi√° n√†o kh·∫£ d·ª•ng"}):n.jsx(g,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:C.map(e=>{var r;return n.jsx(U,{label:`${e.code} - ${"PERCENTAGE"===e.type?`${e.value}%`:`${null==(r=e.value)?void 0:r.toLocaleString("vi-VN")}‚Ç´`}`,variant:"outlined",color:"primary",onClick:()=>d(e.code),sx:{cursor:"pointer"}},e.id)})})]})}),n.jsx(u,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"* M√£ gi·∫£m gi√° c√≥ th·ªÉ c√≥ ƒëi·ªÅu ki·ªán √°p d·ª•ng. Vui l√≤ng ki·ªÉm tra chi ti·∫øt tr∆∞·ªõc khi s·ª≠ d·ª•ng."})]})})},xr=({subtotal:e,discount:r,shipping:s,tax:o,total:i,voucherCode:a,voucherDiscount:t})=>{const l=e=>e.toLocaleString("vi-VN")+"‚Ç´";return n.jsx(Pe,{sx:{borderRadius:3,boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},children:n.jsxs(Be,{sx:{p:3},children:[n.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1,mb:3},children:[n.jsx(A,{color:"primary"}),n.jsx(u,{variant:"h6",sx:{fontWeight:"bold"},children:"Chi ti·∫øt thanh to√°n"})]}),n.jsxs(xe,{container:!0,spacing:2,children:[n.jsx(xe,{item:!0,xs:8,children:n.jsx(u,{variant:"body1",children:"T·ªïng ti·ªÅn h√†ng:"})}),n.jsx(xe,{item:!0,xs:4,sx:{textAlign:"right"},children:n.jsx(u,{variant:"body1",sx:{fontWeight:"bold"},children:l(e)})}),a&&t&&t>0&&n.jsxs(n.Fragment,{children:[n.jsx(xe,{item:!0,xs:8,children:n.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsx(J,{fontSize:"small",color:"success"}),n.jsxs(u,{variant:"body2",color:"success.main",children:["M√£ gi·∫£m gi√° (",a,"):"]})]})}),n.jsx(xe,{item:!0,xs:4,sx:{textAlign:"right"},children:n.jsxs(u,{variant:"body2",color:"success.main",sx:{fontWeight:"bold"},children:["-",l(t)]})})]}),r>0&&r!==t&&n.jsxs(n.Fragment,{children:[n.jsx(xe,{item:!0,xs:8,children:n.jsx(u,{variant:"body2",color:"text.secondary",children:"Gi·∫£m gi√° kh√°c:"})}),n.jsx(xe,{item:!0,xs:4,sx:{textAlign:"right"},children:n.jsxs(u,{variant:"body2",color:"text.secondary",children:["-",l(r-(t||0))]})})]}),n.jsx(xe,{item:!0,xs:8,children:n.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsx(ue,{fontSize:"small",color:"info"}),n.jsx(u,{variant:"body1",children:"Ph√≠ v·∫≠n chuy·ªÉn:"})]})}),n.jsx(xe,{item:!0,xs:4,sx:{textAlign:"right"},children:n.jsx(u,{variant:"body1",children:0===s?n.jsx(U,{label:"Mi·ªÖn ph√≠",size:"small",color:"success"}):l(s)})}),n.jsx(xe,{item:!0,xs:8,children:n.jsx(u,{variant:"body1",children:"Thu·∫ø VAT (10%):"})}),n.jsx(xe,{item:!0,xs:4,sx:{textAlign:"right"},children:n.jsx(u,{variant:"body1",children:l(o)})}),n.jsx(xe,{item:!0,xs:12,children:n.jsx(X,{sx:{my:1}})}),n.jsx(xe,{item:!0,xs:8,children:n.jsxs(g,{sx:{display:"flex",alignItems:"center",gap:1},children:[n.jsx(Ke,{fontSize:"small",color:"primary"}),n.jsx(u,{variant:"h6",sx:{fontWeight:"bold",color:"primary.main"},children:"T·ªïng thanh to√°n:"})]})}),n.jsx(xe,{item:!0,xs:4,sx:{textAlign:"right"},children:n.jsx(u,{variant:"h6",sx:{fontWeight:"bold",color:"primary.main"},children:l(i)})})]}),n.jsxs(g,{sx:{mt:3,p:2,bgcolor:"grey.50",borderRadius:2},children:[n.jsx(u,{variant:"caption",color:"text.secondary",sx:{fontWeight:"bold"},children:"PH√ÇN T√çCH THANH TO√ÅN"}),n.jsxs(g,{sx:{mt:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx(u,{variant:"body2",children:"Gi√° ban ƒë·∫ßu:"}),n.jsx(u,{variant:"body2",sx:{fontWeight:"bold"},children:l(e+o+s)})]}),t&&t>0&&n.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",color:"success.main"},children:[n.jsx(u,{variant:"body2",children:"Gi·∫£m gi√° voucher:"}),n.jsxs(u,{variant:"body2",sx:{fontWeight:"bold"},children:["-",l(t)]})]}),n.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1},children:[n.jsx(u,{variant:"body1",sx:{fontWeight:"bold"},children:"Th√†nh ti·ªÅn:"}),n.jsx(u,{variant:"body1",sx:{fontWeight:"bold",color:"primary.main"},children:l(i)})]})]}),n.jsxs(g,{sx:{mt:2,p:2,bgcolor:"info.light",borderRadius:2,border:"1px solid",borderColor:"info.main"},children:[n.jsx(u,{variant:"caption",sx:{fontWeight:"bold",color:"info.dark"},children:"üí° L∆∞u √Ω:"}),n.jsx(u,{variant:"caption",color:"info.dark",sx:{display:"block",mt:.5},children:"‚Ä¢ Gi√° ƒë√£ bao g·ªìm VAT ‚Ä¢ Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn cho ƒë∆°n h√†ng tr√™n 500.000‚Ç´ ‚Ä¢ √Åp d·ª•ng ch√≠nh s√°ch ƒë·ªïi tr·∫£ trong 30 ng√†y"})]})]})})},hr=({selectedMethod:e,creditCardGateway:r,selectedBank:s,onMethodChange:o,onGatewayChange:i,onBankChange:a})=>{var t;const l=[{code:"vietcombank",name:"VIETCOMBANK",fullName:"Ng√¢n h√†ng TMCP Ngo·∫°i th∆∞∆°ng Vi·ªát Nam"},{code:"bidv",name:"BIDV",fullName:"Ng√¢n h√†ng TMCP ƒê·∫ßu t∆∞ v√† Ph√°t tri·ªÉn Vi·ªát Nam"},{code:"agribank",name:"AGRIBANK",fullName:"Ng√¢n h√†ng N√¥ng nghi·ªáp v√† Ph√°t tri·ªÉn N√¥ng th√¥n Vi·ªát Nam"},{code:"techcombank",name:"TECHCOMBANK",fullName:"Ng√¢n h√†ng TMCP K·ªπ th∆∞∆°ng Vi·ªát Nam"},{code:"mb",name:"MB Bank",fullName:"Ng√¢n h√†ng TMCP Qu√¢n ƒë·ªôi"},{code:"acb",name:"ACB",fullName:"Ng√¢n h√†ng TMCP √Å Ch√¢u"},{code:"vpbank",name:"VPBANK",fullName:"Ng√¢n h√†ng TMCP Vi·ªát Nam Th·ªãnh V∆∞·ª£ng"},{code:"tpbank",name:"TPBANK",fullName:"Ng√¢n h√†ng TMCP Ti√™n Phong"},{code:"shb",name:"SHB",fullName:"Ng√¢n h√†ng TMCP S√†i G√≤n - H√† N·ªôi"},{code:"ocb",name:"OCB",fullName:"Ng√¢n h√†ng TMCP Ph∆∞∆°ng ƒê√¥ng"}];return n.jsx(Pe,{sx:{maxWidth:600,mx:"auto",mt:2},children:n.jsxs(Be,{children:[n.jsx(u,{variant:"h6",gutterBottom:!0,children:"Payment Method"}),n.jsx(u,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Select Payment Method"}),n.jsxs(Le,{value:e,onChange:e=>o(e.target.value),children:[n.jsx($e,{value:"credit_card",control:n.jsx(qe,{}),label:n.jsxs(g,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ke,{sx:{mr:1}}),n.jsx(u,{children:"Credit Card"})]})}),n.jsx($e,{value:"bank_transfer",control:n.jsx(qe,{}),label:n.jsxs(g,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(_e,{sx:{mr:1}}),n.jsx(u,{children:"Bank Transfer"})]})}),n.jsx($e,{value:"cod",control:n.jsx(qe,{}),label:n.jsxs(g,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Ye,{sx:{mr:1}}),n.jsx(u,{children:"Cash on Delivery"})]})})]}),"credit_card"===e&&n.jsxs(g,{sx:{ml:4,mt:2,p:2,bgcolor:"background.paper",borderRadius:1},children:[n.jsx(u,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Choose payment gateway:"}),n.jsxs(Le,{value:r,onChange:e=>i(e.target.value),children:[n.jsx($e,{value:"vnpay",control:n.jsx(qe,{}),label:n.jsxs(g,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Qe,{sx:{mr:1,color:"#0055A4"}}),n.jsx(u,{children:"VNPay"})]})}),n.jsx($e,{value:"momo",control:n.jsx(qe,{}),label:n.jsxs(g,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(Qe,{sx:{mr:1,color:"#A50064"}}),n.jsx(u,{children:"MoMo"})]})})]}),n.jsx(ae,{severity:"info",sx:{mt:2},children:n.jsx(u,{variant:"body2",children:"vnpay"===r?"VNPay - Thanh to√°n qua th·∫ª ATM, th·∫ª qu·ªëc t·∫ø, v√≠ ƒëi·ªán t·ª≠":"MoMo - Thanh to√°n qua v√≠ MoMo, th·∫ª ATM, th·∫ª qu·ªëc t·∫ø"})})]}),"bank_transfer"===e&&n.jsxs(g,{sx:{ml:4,mt:2,p:2,bgcolor:"background.paper",borderRadius:1},children:[n.jsx(u,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Choose bank:"}),n.jsx(Xe,{fullWidth:!0,children:n.jsx(Je,{value:s,onChange:e=>a(e.target.value),displayEmpty:!0,children:l.map(e=>n.jsx(j,{value:e.code,children:n.jsxs(g,{sx:{display:"flex",alignItems:"center"},children:[n.jsx(_e,{sx:{mr:1,color:"primary.main"}}),n.jsxs(g,{children:[n.jsx(u,{variant:"body2",fontWeight:"bold",children:e.name}),n.jsx(u,{variant:"caption",color:"text.secondary",children:e.fullName})]})]})},e.code))})}),n.jsx(ae,{severity:"info",sx:{mt:2},children:n.jsxs(u,{variant:"body2",children:["Chuy·ªÉn kho·∫£n tr·ª±c ti·∫øp ƒë·∫øn t√†i kho·∫£n ",null==(t=l.find(e=>e.code===s))?void 0:t.name]})})]}),"cod"===e&&n.jsx(g,{sx:{ml:4,mt:2,p:2,bgcolor:"background.paper",borderRadius:1},children:n.jsx(ae,{severity:"info",children:n.jsx(u,{variant:"body2",children:"Thanh to√°n ti·ªÅn m·∫∑t khi nh·∫≠n h√†ng. Kh√¥ng c·∫ßn thanh to√°n tr∆∞·ªõc."})})})]})})};export{xr as B,ar as C,lr as E,nr as F,sr as N,cr as O,or as P,tr as T,dr as V,hr as a};
